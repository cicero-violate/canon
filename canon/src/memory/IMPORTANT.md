pub(crate) fn apply(state: &mut CanonicalState, delta: &Delta) -> Result<()> {
